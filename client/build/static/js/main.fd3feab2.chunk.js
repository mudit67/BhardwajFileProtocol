(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{108:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),o=a(22),r=a.n(o),c=(a(63),a(64),a(12)),s=a(17),i=a(13),u=a(18),m=a(19),p=a(15),d=a(118),h=a(109),f=a(110),b=a(111),g=a(54),v=a.n(g);var E=function(e){var t=Object(n.useState)(""),a=Object(p.a)(t,2),o=a[0],r=a[1],c=Object(n.useState)(""),s=Object(p.a)(c,2),i=s[0],u=s[1],m=function(){return e.modalCallback(!e.modalBool)};return l.a.createElement("div",null,l.a.createElement(d.a,{isOpen:e.modalBool,toggle:m},l.a.createElement(h.a,null,"Upload Your Files"),l.a.createElement(f.a,null,l.a.createElement("div",{className:"upload ml-2 ml-md-3 "},l.a.createElement("label",{htmlFor:"file-upload",className:"nav-button"},""===o?"Click to upload":"Click Submit to upload"),l.a.createElement("input",{type:"file",className:"d-none",multiple:"true",id:"file-upload",onChange:function(e){u(e.target.files[0]),r(e.target.files[0].name)}}),l.a.createElement("div",{className:"ml-2"},o))),l.a.createElement(b.a,null,l.a.createElement("button",{className:"nav-button bg-secodary",onClick:m},"Cancel"),l.a.createElement("button",{className:"nav-button bg-info",onClick:function(){!function(e,t){console.log(e);var a=new FormData;a.append("file",e.file);v.a.post("".concat(window.backendUrl,"/uploadFile"),a,{onUploadProgress:function(e){console.log(e)}}).then((function(a){alert(a.data),t.modalCallback(!1),e.setFileName("")})).catch((function(e){console.error(e)}))}({file:i,setFileName:r},e)}},"Submit"))))},k=a(112),C=a(113),y=a(120),w=a(119),T=a(121),N=a(26),O=a(27),j=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={respVal:[],vidName:null,menuToggle:!1,tip:!1},n.DEBOUNCETIME=400,n.redirectToPage=n.redirectToPage.bind(Object(c.a)(n)),n.debounceTimeout=0,n.handleChange=n.handleChange.bind(Object(c.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(c.a)(n)),n.updateList=n.updateList.bind(Object(c.a)(n)),n.closeMenu=n.closeMenu.bind(Object(c.a)(n)),n}return Object(i.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return!0}}]),Object(i.a)(a,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.closeMenu(),""===this.state.searchVal||this.state.searchVal&&this.redirectToPage("search-result",this.state.searchVal)}},{key:"updateList",value:function(){var e=this;this.debounceTimeout=setTimeout((function(){fetch(window.backendUrl+"/search?q="+e.state.searchVal+"&l=8").then((function(e){return e.json()})).then((function(t){e.setState({respVal:t}),""!==e.state.searchVal&&e.props.menuToggleCallback(!0)}))}),this.DEBOUNCETIME)}},{key:"handleChange",value:function(e){""!==e.target.value?(this.setState({searchVal:e.target.value}),this.updateList()):(this.setState({searchVal:""}),this.closeMenu())}},{key:"closeMenu",value:function(){this.props.menuToggleCallback(!1)}},{key:"redirectToPage",value:function(e,t){this.closeMenu(),this.props.redirectCallback(e,t)}},{key:"render",value:function(){var e,t=this;return e=this.state.respVal.map((function(e,a){return l.a.createElement(k.a,{type:"button",onClick:function(a){a.preventDefault(),t.redirectToPage("player",e.substring(0,e.length-4))},href:"/player/".concat(e.substring(0,e.length-4)),className:"row nav-button ml-0 mr-0",key:a},e.substring(0,e.length-4))})),l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,{className:"align-items-center navbar-home"},l.a.createElement(k.a,{className:"pt-2 pb-2 d-flex home-button align-items-center",type:"button",onClick:function(){t.redirectToPage("home"," ")}},l.a.createElement("div",{className:"d-none d-md-block ml-md-2 mr-md-2"},"Home"),l.a.createElement(N.a,{icon:O.a,name:"home",className:"ml-1 mt-1 mb-1"})),l.a.createElement("div",{className:"col-6 pl-1 pl-md-2 pr-0"},l.a.createElement("form",{className:"row",onSubmit:this.handleSubmit,autoComplete:"off"},l.a.createElement("input",{type:"search",placeholder:"Search...",id:"search",value:this.state.searchVal||"",onChange:this.handleChange,className:"col-12"})),l.a.createElement(y.a,{isOpen:this.props.menuToggle,toggle:function(){return t.props.menuToggle},className:"pr-5"},l.a.createElement(w.a,{className:"d-none"}),l.a.createElement(T.a,{className:"col-12 search-suggestions-container pt-0",style:{position:"realtive"}},e))),l.a.createElement("button",{type:"button",onClick:this.handleSubmit,className:"nav-button searchButton"},l.a.createElement(N.a,{icon:O.b,name:"search"})),l.a.createElement("div",{className:"ml-1 upload-nav"},l.a.createElement("button",{className:"nav-button align-items-center",type:"button",onClick:function(){return t.redirectToPage("upload","")},onMouseOver:function(){t.setState({tip:!0})},onMouseLeave:function(){t.setState({tip:!1})}},l.a.createElement(N.a,{icon:O.c,name:"upload"})),l.a.createElement("div",{className:this.state.tip?"uploadTip":"d-none"},"Upload Files"))))}}]),a}(l.a.Component),S=function(e){var t=Object(n.useRef)(),a=Object(n.useState)(),o=Object(p.a)(a,2),r=o[0],c=o[1];Object(n.useEffect)((function(){t.current.playbackRate=r,t.current.onkeydown=function(e){if(38===e.which&&1!==t.current.volume)t.current.volume+=.05;else if(40===e.which&&0!==t.current.volume)t.current.volume-=.05;else if(37===e.which)e.preventDefault(),t.current.currentTime-=5;else if(39===e.which)e.preventDefault(),t.current.currentTime+=5;else if(70===e.which){var a=t.current;a.requestFullscreen?a.requestFullscreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.msRequestFullscreen&&a.msRequestFullscreen(),document.fullscreenElement&&document.exitFullscreen()}else 75===e.which&&(e.preventDefault(),s())}}),[r]),r||c(1);t.current&&(console.log(t.current),console.log(t.current.fullscreenElement));var s=function(){t.current.paused?t.current.play():t.current.pause()};return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 col-md-7"},l.a.createElement("div",{className:"frame-container"},l.a.createElement("video",{ref:t,id:"videoFrame",className:"playerframe",title:e.srcName,src:"".concat(window.backendUrl,"/files/").concat(e.srcName,".mp4"),allowFullScreen:!0,controls:!0,autoPlay:!0,volume:.5})))),l.a.createElement("h3",{style:{color:"white",marginTop:"1rem"}},e.srcName.substring(e.srcName.lastIndexOf("/")+1)),l.a.createElement("form",null,l.a.createElement("input",{onChange:function(e){c(e.target.value)},type:"range",value:r,min:"0.5",max:"4",step:"0.1"})),l.a.createElement("div",{style:{color:"white"}},r),l.a.createElement("button",{onClick:s},"toggle"))},F=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={respVal:[]},n.getData=n.getData.bind(Object(c.a)(n)),n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return e.searchVal!==this.props.searchVal&&this.getData(),null}},{key:"getData",value:function(){var e=this;fetch("http://localhost:8000/search?q="+this.props.searchVal).then((function(e){return e.json()})).then((function(t){e.setState({respVal:t})}))}},{key:"redirectToPlayer",value:function(e,t){t.preventDefault(),this.props.redirectCallback("player",e)}},{key:"render",value:function(){var e,t=this;return e=this.state.respVal.map((function(e,a){return l.a.createElement("a",{className:"row nav-button search-result ml-2 mb-1",type:"button",href:"/player/".concat(e.substring(0,e.length-4)),key:a,onClick:function(a){t.redirectToPlayer(e.substring(0,e.length-4),a)}},e.substring(0,e.length-4))})),l.a.createElement("div",null,e)}}]),a}(l.a.PureComponent),x=a(57),D=a(114),M=a(115),B=a(116),P=a(117),V=[{src:"./panda.jpeg",altText:"Panda",caption:"Panda Music"},{src:"./img.png",altText:"Mudit",caption:"Mudit Music"},{src:"./img.png",altText:"Yash",caption:"Yash Music"}],U=function(e){var t=Object(n.useState)(0),a=Object(p.a)(t,2),o=a[0],r=a[1],c=Object(n.useState)(!1),s=Object(p.a)(c,2),i=s[0],u=s[1],m=function(){if(!i){var e=o===V.length-1?0:o+1;r(e)}},d=function(){if(!i){var e=0===o?V.length-1:o-1;r(e)}},h=function(t,a){a.preventDefault(),e.redirectCallback("player",t)},f=V.map((function(e){return l.a.createElement(x.a,{onExiting:function(){return u(!0)},onExited:function(){return u(!1)},key:e.caption,className:"row pr-0"},l.a.createElement("a",{className:"d-none d-md-block",type:"button",href:"/player/".concat(e.altText),onClick:function(t){h(e.altText,t)}},l.a.createElement(D.a,{className:"offset-md-3",captionHeader:e.caption,captionText:""})),l.a.createElement("a",{className:"col-12 pr-0 col-md-4 link-img",type:"button",href:"/player/".concat(e.altText),onClick:function(t){h(e.altText,t)}},l.a.createElement("img",{className:"Carousel-img",src:e.src,alt:e.altText})))}));return l.a.createElement("div",{className:"ml-0 mr-0 ml-md-4 pl-md-1 pr-0 pl-0 col-md-11 pr-md-0"},l.a.createElement(M.a,{activeIndex:o,next:m,previous:d,interval:3e3},l.a.createElement(B.a,{items:V,activeIndex:o,onClickHandler:function(e){i||r(e)}}),f,l.a.createElement(P.a,{direction:"prev",directionText:"Previous",onClickHandler:d}),l.a.createElement(P.a,{direction:"next",directionText:"Next",onClickHandler:m})))},W=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={vidName:null,menuToggle:!1,searchResponse:[],WComponent:"home"},window.config=window.config||{},window.location.host.match("localhost")?window.backendUrl=window.config.local:window.backendUrl=window.config.url||"",n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("script",{src:"./config.js"}),l.a.createElement("div",{className:"page-wrapper"},l.a.createElement(j,{redirectCallback:function(t,a){"upload"===t?e.setState({modalBool:!0}):e.setState({WComponent:t,Parameter:a})},menuToggleCallback:function(t){t!==e.state.menuToggle&&e.setState({menuToggle:t})},menuToggle:this.state.menuToggle}),l.a.createElement(q,{maincontentCallback:function(t){e.setState({menuToggle:t})},compToDis:this.state.WComponent,paramForComp:this.state.Parameter,redirectCallback:function(t,a){e.setState({WComponent:t,Parameter:a})},modalBool:this.state.modalBool,modalCallback:function(t){e.setState({modalBool:t})}})))}}]),a}(l.a.Component),q=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={WComponent:n.props.compToDis,params:n.props.paramForComp,modalBool:n.props.modalBool},n.closeMenu=n.closeMenu.bind(Object(c.a)(n)),n}return Object(i.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return e.compToDis!==this.props.compToDis||e.paramForComp!==this.props.paramForComp||e.compToDis!==this.state.WComponent||e.paramForComp!==this.state.params?(this.setState({WComponent:e.compToDis,params:e.paramForComp}),!0):e.modalBool!==this.props.modalBool||(t.WComponent!==this.state.WComponent||t.params!==this.state.params||(console.log(!1),!1))}}]),Object(i.a)(a,[{key:"closeMenu",value:function(){this.props.maincontentCallback(!1)}},{key:"render",value:function(){var e=this;switch(this.state.WComponent){case"home":return l.a.createElement(l.a.Fragment,null,l.a.createElement(U,{redirectCallback:function(t,a){e.setState({WComponent:t,params:a})}}),l.a.createElement(E,{modalBool:this.props.modalBool,url:this.backendUrl,modalCallback:function(t){e.props.modalCallback(t)}}));case"player":return l.a.createElement(l.a.Fragment,null,l.a.createElement(S,{srcName:this.state.params}));case"search-result":return l.a.createElement(l.a.Fragment,null,l.a.createElement(F,{searchVal:this.state.params,redirectCallback:function(t,a){e.setState({WComponent:t,params:a})}}),l.a.createElement(E,{url:this.backendUrl}));default:return l.a.createElement("div",null)}}}]),a}(l.a.Component),R=W;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},58:function(e,t,a){e.exports=a(108)},64:function(e,t,a){}},[[58,1,2]]]);
//# sourceMappingURL=main.fd3feab2.chunk.js.map